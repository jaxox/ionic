<ion-view title="Let's Meet" >

    <ion-nav-buttons side="left">
        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>



    <!--<form name="joinForm" ng-submit="doJoin(model)" >-->
    <ion-content class="has-header" >


    <!--
        LOCATION
    -->
        <div class="item item-divider item-button-right">
            Where? <small>(default is open to suggest)</small>
            <button class="button button-small button-icon custom-button-icon-small" ng-click="locationData.showDelete = !locationData.showDelete" ng-disabled="isEmpty(selectedLocations)">
                <i class="icon ion-minus-circled"></i>
            </button>
        </div>
        <label class="item item-input">
            <input type="text" g-places-autocomplete ng-model="selectedLocation" ng-selected="doAddLocation" placeholder="find a location" />
        </label>
        <ion-list show-delete="locationData.showDelete" can-swipe="true">
            <ion-item ng-repeat="(key,value) in selectedLocations">
                {{key}}
                <ion-delete-button class="ion-minus-circled" ng-click="doDeleteLocation(key)"></ion-delete-button>
                <ion-option-button class="ion-minus-circled" ng-click="doDeleteLocation(key)">Delete</ion-option-button>
                <ion-option-button class="ion-edit" ng-click="openEditLocationItemModal(key)">Edit</ion-option-button>
            </ion-item>
        </ion-list>
        <!--For output testing the selected location data -->
        <!--<pre>{{selectedLocation | json}}</pre>-->

    <!--
        IDEAS
    -->
        <div class="item item-divider item-button-right">
            What? <small>(default is open to suggest)</small>
            <button class="button button-small button-icon custom-button-icon-small" ng-click="data.showDelete = !data.showDelete" ng-disabled="isEmpty(selectedIdeas)">
                <i class="icon ion-minus-circled"></i>
            </button>
        </div>
        <div ng-controller="IdeaTypeaheadCtrl" class="suggest-box" angucomplete-alt id="ex1" placeholder="type to see suggestions" pause="100" selected-object="doAddIdea"
                    local-data="ideas" search-fields="name" title-field="name" minlength="1" input-class="form-control"
                    match-class="highlight" override-suggestions="true" clear-selected="true">
        </div>

        <ion-list show-delete="data.showDelete" can-swipe="true">
            <ion-item ng-repeat="(key,value) in selectedIdeas">
                {{key}}
                <ion-delete-button class="ion-minus-circled" ng-click="doDeleteIdea(key)"></ion-delete-button>
                <ion-option-button class="ion-minus-circled" ng-click="doDeleteIdea(key)">Delete</ion-option-button>
                <ion-option-button class="ion-edit" ng-click="openEditIdeaItemModal(key)">Edit</ion-option-button>
            </ion-item>
        </ion-list>




        <div class="item item-divider">When?</div>

        <div ng-controller="DateUtilCtrl" >

            <div class="item item-input item-select ">
                <div class="input-label">Date:</div>
                <select ng-model="selectedDate" ng-options="dateOption.from as dateOption.name for dateOption in dateOptions"></select>
            </div>

            <label class="item item-input item-select" ng-show="selectedDate===null">
                <span class="input-label">from</span>
                <input type="date" min="{{todayAsStr}}" max="{{nextYearAsStr}}" ng-model="fromDate"  ng-change="changeToDate(fromDate)">
            </label>

            <label class="item item-input item-select" ng-show="selectedDate===null">
                <span class="input-label">to</span>
                <input type="date" min=" {{fromDate!=null ? fromDate : todayAsStr}}" max="{{nextYearAsStr}}" ng-model="toDate">
            </label>

            <div class="item item-input item-select">
                <div class="input-label">Start Time:</div>
                <input type="time" ng-model="selectedStartTime"/>
            </div>


            <label class="item item-input" ng-show="selectedStartTime!=null">
                <div class="input-label">End Time:</div>
                <input type="time" ng-model="selectedEndTime"/>
            </label>


        </div>








    </ion-content>
    <ion-footer-bar>
        <div class="button-bar" >
            <button class="button button-positive" type="submit" ng-disabled="joinForm.$invalid">Save</button>
        </div>
    </ion-footer-bar>
    <!--</form>-->
</ion-view>
